# 第一篇、认识大模型



# 1、认识大模型

## **学习目标**

学完本课程后，您将能够：

- 掌握大模型的特点、重要概念以及工作方式
- 了解阿里云大模型的基本概况和产品矩阵
- 了解大模型，尤其是大语言模型的应用场景和示例





## 背景



机器学习：

- 监督学习：告诉特征及和类别的对应关系。让机器预测提到的特征对应的类别
- 无监督学习：只告诉特征，机器通过自动学习数据的分布将相似的对象归为同类（如红色圆形是苹果）
- 强化学习：不会告诉特征，让机器自己判断，如果判断对，就给一个奖励，如果判断错，就不给奖励。（）





深度学习：

使用神经网络模型（由多个隐藏层组成）对数据进行学习和表示。

神经网络可分为：卷积神经网络（CNNs）、循环神经网络（RNNs）、Transformer网络等









## 大模型的训练





**预训练（Pre-training）：**

预训练的过程类似于从婴儿成长为中学生的阶段，在这个阶段我们会学习各种各样的知识，我们的语言习惯、知识体系等重要部分都会形成；对于大模型来说，在这个阶段它会**学习各种不同种类的语料，学习到语言的统计规律和一般知识**。但是大模型在这个阶段只是学会了补全句子，却没有学会怎么样去领会人类的意图，假设我们向预训练的模型提问：“埃菲尔铁塔在哪个国家？”模型有可能不会回答“法国”，而是根据它看到过的语料进行输出：“东方明珠在哪个城市？”这显然不是一个好的答案，因此我们需要让它能够去遵循人类的指示进行回答，这个步骤就是SFT（监督微调）。人类成长的过程实质上是不断预训练的过程，这与机器的预训练过程略有不同。





**监督微调（SFT，Supervised Fine Tuning）：**

SFT的过程类似于从中学生成长为大学生的阶段，在这个阶段我们会学习到专业知识，比如金融、法律等领域，我们的头脑会更专注于特定领域。对于大模型来说，在这个阶段它可以**学习各种人类的对话语料，甚至是非常专业的垂直领域知识，在监督微调过程之后，它可以按照人类的意图去回答专业领域的问题**。这时候我们向经过SFT的模型提问：“埃菲尔铁塔在哪个国家？”模型大概率会回答“法国”，而不是去补全后边的句子。这时候的模型已经可以按照人类的意图去完成基本的对话功能了，但是模型的回答有时候可能并不符合人类的偏好，它可能会输出一些涉黄、涉政、涉暴或者种族歧视等言论，这时候我们就需要对模型进行RLHF（基于人类反馈的强化学习）。



基于人类反馈的强化学习（RLHF，Reinforcement Learning from Human Feedback）：

RLHF的过程类似于从大学生步入职场的阶段，在这个阶段我们会开始进行工作，但是我们的工作可能会受到领导和客户的表扬，也有可能会受到批评，我们会根据反馈调整自己的工作方法，争取在职场获得更多的正面反馈。对于大模型来说，在这个阶段它会**针对同一问题进行多次回答，人类会对这些回答打分，大模型会在此阶段学习到如何输出分数最高的回答，使得回答更符合人类的偏好**。







## 大模型的分类



**大语言模型（LLM）：**这类大模型专注于自然语言处理（NLP），旨在处理语言、文章、对话等自然语言文本。它们通常基于深度学习架构（如Transformer模型），经过大规模文本数据集训练而成，能够捕捉语言的复杂性，包括语法、语义、语境以及蕴含的文化和社会知识。语言大模型典型应用包括文本生成、问答系统、文本分类、机器翻译、对话系统等。示例包括：

- GPT系列（OpenAI）：如GPT-3、GPT-3.5、GPT-4等。
- Gemini（Google）：谷歌推出的大型语言模型，用于提供信息丰富的、有创意的文本输出。
- 通义千问（阿里云）：阿里云自主研发的超大规模的语言模型。



**多模态模型：**多模态大模型能够同时处理和理解来自不同感知通道（如文本、图像、音频、视频等）的数据，并在这些模态之间建立关联和交互。它们能够整合不同类型的输入信息，进行跨模态推理、生成和理解任务。多模态大模型的应用涵盖视觉问答、图像描述生成、跨模态检索、多媒体内容理解等领域。

- 视觉+文本：包括VQA视觉问答，图像字幕，图文检索、文生图等应用。
- 音频+文本：包括语音生成、语音摘要、语音识别等应用。
- 音频+视觉：包括音生图、演讲人脸生成等应用。







## 大模型工作原理

大模型处理提示词的工作流程可以分为两部分，第一部分是分词化与词表映射，第二部分为生成文本。



**分词化（Tokenization）与词表映射**

分词化（Tokenization）是自然语言处理（NLP）中的重要概念，它是将段落和句子分割成更小的分词（token）的过程。举一个实际的例子，以下是一个英文句子：

I want to study ACA.

为了让机器理解这个句子，对字符串执行分词化，将其分解为独立的单元。使用分词化，我们会得到这样的结果:

['I' ,'want' ,'to' ,'study' ,'ACA' ,'.']



每一个token都会通过预先设置好的词表，映射为一个 token id，这是token 的“身份证”，一句话最终会被表示为一个元素为token id的列表，供计算机进行下一步处理。





**大语言模型生成文本的过程**

大模型的推理过程不是一步到位的，当大模型进行推理时，它会基于现有的token，根据概率最大原则预测出下一个最有可能的token，然后将该预测的token加入到输入序列中，并将更新后的输入序列继续输入大模型预测下一个token，这个过程叫做自回归。直到输出特殊token（如<EOS>，end of sentence，专门用来控制推理何时结束）或输出长度达到阈值，

![img](https://scms-prod-sh-public.oss-cn-shanghai.aliyuncs.com/course_picture/ubfgivcuiajvvmtphfzk.png)







如下面的例子：

**用户提问**：阿里云成立于什么时间？

**模型输出**：

![img](https://scms-prod-sh-public.oss-cn-shanghai.aliyuncs.com/course_picture/viunkyosmrzsfhgbjxot.png)





## 大模型的应用



![img](https://scms-prod-sh-public.oss-cn-shanghai.aliyuncs.com/course_picture/uuokdxcynstjfwqrjoux.png)



[通义千问](https://tongyi.aliyun.com/)是阿里云自主研发的超大规模的语言模型，在复杂指令理解、文学创作、通用数学、代码理解生成、知识记忆等能力上均达到领先水平。它支持多种语言，还能处理多种分辨率和规格的图像，实现多语言多模态理解。

[通义万相](https://tongyi.aliyun.com/wanxiang/)是阿里云自主研发多模态图像和视频生成模型，可提供AI艺术创作，可支持文生图、图生图、图生视频、虚拟模特、个人写真等多场景的图片和视频创作能力。

[百炼大模型服务平台](bailian.aliyun.com)是基于阿里云通义大模型构建的，面向企业开发者、个人开发者及ISV合作伙伴提供通义系列大模型、三方大模型等调用、模型训练开发及大模型应用构建的服务平台。提供完整的模型训练工具和全链路开发套件，预置丰富的应用插件，提供便捷的集成方式，结合企业专属数据和 API，帮企业高效完成大模型应用构建。











# 2、大模型的典型应用场景



## 课程目标

学完本课程后，你将能够：

- 了解什么是提示词
- 了解大模型的典型应用场景



## 什么是提示词



**提示词（Prompt）是用户发送给大语言模型****的问题、指令或请求，**来明确地告诉模型用户想要解决的问题或完成的任务，是大语言模型理解用户需求并据此生成相关、准确回答或内容的基础。对于大语言模型来说，提示词就是用户输入给大语言模型的文本信息。

![img](https://scms-prod-sh-public.oss-cn-shanghai.aliyuncs.com/course_picture/fhcfdugefelwcgfsqhsy.png)







## 大模型的典型应用场景



根据不同的提示词，我们可以在很多工作场景中使用大模型，提升我们的工作效率，主要分为以下四类场景：文本生成、文本编辑、推理分析、总结摘要。



### **文本生成与创作**

```
示例：“以一个意外发现了时间旅行机器的年轻科学家为主角，创作一个包含冒险和自我发现的短故事开头。”
```



### **营销文案广告生成**

```
示例：“为以下产品生成引人注目的广告文案：一款智能运动手表，具备心率监测、睡眠跟踪和防水功能。”
```



### **代码生成与软件开发**

```
示例：“编写一个Python程序，功能为：接受用户输入的数字，并计算其平方根。请确保程序包括错误处理，以及输入非数字时的友好提示。”
```



### 文本内容润色与转换

```
示例：分析用户提交的反馈或投诉，将其改写为标准化格式，便于快速分类和处理，对以下用户反馈进行改写，用户原始反馈：“我购买的产品昨天到的，但是打开包装发现有破损，质量看着也不咋地，感觉跟商品介绍差别太大了，我要退货！”
```



### 多语言文本翻译

```
示例：“将以下文本从英语翻译成中文和法语：The advancements in AI technology have paved the way for innovative approaches to solving complex problems.”
```



### 代码改写与注释

```
示例：“将以下Python代码转换为等效的Ruby代码。同时请注意保留所有注释，以帮助Ruby程序员理解代码的功能。#Calculate the factorial of a numberdef factorial(n):    if n == 0:        return 1    else:        return n * factorial(n - 1)”
```



### 学术文章总结

```
大模型能够快速精准地提炼学术文章的精华内容，帮你省去宝贵时间，直击研究核心。
```



### 医疗信息提取

```
假设一位心脏病患者在医院接受了全面检查，并由主治医师撰写了诊断报告。报告内容可能包括了详细的病史、临床表现、检查结果以及提出的治疗计划。报告的部分内容摘录如下，请提取关键信息并进行汇总：
"患者张三，男性，56岁，主诉胸闷、气短已持续一周。既往有高血压病史5年，规律服药控制良好。本次入院心电图显示ST段下移，T波倒置，血液检测发现肌钙蛋白I（cTnI）轻度升高至0.25 ng/mL，提示心肌受损。胸部X光未见明显异常。初步诊断为不稳定型心绞痛。建议立即给予硝酸甘油缓解症状，启动抗血小板治疗，并安排冠状动脉造影进一步评估心脏血管情况。"
```



### 法律案件分析

```
示例：这里有一个法律案件，假设有一个案例涉及一位独立音乐创作者小明，声称其原创歌曲《XXX》被知名歌手小华未经授权使用并发布于最新专辑中，造成了经济损失及名誉损害。小明向法院提起诉讼，要求停止侵权行为、公开道歉、赔偿经济损失及精神损失费。对案情分析并给出可能的判决结果。
```

















